syntax = "proto3";

package proto;

// chat service definition
service ChatService {
	rpc Receive(Chat.Nil) returns (stream Chat.Message); // 接收本服消息
	rpc Send(Chat.Message) returns (Chat.SendResult);  // 发送一个消息
}

message Chat {
	message Nil {
	}
	message SendResult{
		bool Result=1;
	}

	enum MessageType {
		P2P=0;
		GROUP=1;
		GLOBAL=2;
	}

	message Message {
		int32 From=1;	// eg:1
		int32 To=2; 	// eg:2 
		MessageType Type=3;	// message type
		string Body=4;	// eg:"hello, how are you?"	
	}
}
